extends Node

const FLOOR_TILE = 0
const WALL_TILE = 1

const CRYPT_SECTION_SIZE = 4

var CRYPT_HEIGHT
const CRYPT_MAX_HEIGHT = 100
const CRYPT_MIN_HEIGHT = 30

var CRYPT_WIDTH
const CRYPT_MAX_WIDTH = 100
const CRYPT_MIN_WIDTH = 30

const CORNERS = [
	[
		[1, 1, 1, 1],
		[0, 0, 0, 1],
		[0, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 1],
		[0, 0, 0, 1],
		[1, 1, 1, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 0],
		[1, 0, 0, 0],
		[1, 1, 1, 1]
	],
	[
		[1, 1, 1, 1],
		[1, 0, 0, 0],
		[1, 0, 0, 0],
		[1, 0, 0, 1]
	]
]
const TOP_RIGHT_CORNER    = CORNERS[0]
const BOTTOM_RIGHT_CORNER = CORNERS[1]
const BOTTOM_LEFT_CORNER  = CORNERS[2]
const TOP_LEFT_CORNER     = CORNERS[3]

const HORIZONTAL_HALLWAYS = [
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 1, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 1, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 1, 1]
	],
	[
		[1, 0, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 1, 1]
	],
	[
		[1, 1, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 1, 1]
	],
	[
		[1, 1, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 1, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 0, 1]
	],
	[
		[1, 0, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 0, 1]
	],
	[
		[1, 1, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 0, 1]
	],
	[
		[1, 1, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 1, 1]
	],
	[
		[1, 0, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 1, 1]
	],
	[
		[1, 1, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 1, 1]
	],
	[
		[1, 1, 1, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 1, 1, 1]
	]
]
const TOP_HORIZONTAL_HALLWAYS = [
	HORIZONTAL_HALLWAYS[3],
	HORIZONTAL_HALLWAYS[7],
	HORIZONTAL_HALLWAYS[11],
	HORIZONTAL_HALLWAYS[15]
]
const BOTTOM_HORIZONTAL_HALLWAYS = [
	HORIZONTAL_HALLWAYS[12],
	HORIZONTAL_HALLWAYS[13],
	HORIZONTAL_HALLWAYS[14],
	HORIZONTAL_HALLWAYS[15]
]
const VERTICAL_HALLWAYS   = [
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 1],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 0],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[0, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 1],
		[0, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 0],
		[0, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 1],
		[0, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[1, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 1],
		[1, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 0],
		[1, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 1],
		[1, 0, 0, 0],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 0],
		[1, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[0, 0, 0, 1],
		[1, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 0],
		[1, 0, 0, 1],
		[1, 0, 0, 1]
	],
	[
		[1, 0, 0, 1],
		[1, 0, 0, 1],
		[1, 0, 0, 1],
		[1, 0, 0, 1]
	]
]
const LEFT_VERTICAL_HALLWAYS = [
	VERTICAL_HALLWAYS[10],
	VERTICAL_HALLWAYS[11],
	VERTICAL_HALLWAYS[14],
	VERTICAL_HALLWAYS[15]
]
const RIGHT_VERTICAL_HALLWAYS = [
	VERTICAL_HALLWAYS[5],
	VERTICAL_HALLWAYS[7],
	VERTICAL_HALLWAYS[13],
	VERTICAL_HALLWAYS[15]
]